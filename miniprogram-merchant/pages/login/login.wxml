<view class="login-container">
  <view class="login-box">
    <view class="login-header">
      <image class="logo" src="/images/logo.png" mode="aspectFit"></image>
      <text class="title">智能点餐商家端</text>
    </view>
    
    <view class="login-content">
      <button 
        class="login-btn" 
        open-type="getPhoneNumber" 
        bindgetphonenumber="handleGetPhoneNumber"
        wx:if="{{!phoneNumber}}"
      >
        <text class="btn-icon">👤</text>
        <text class="btn-text">微信授权登录</text>
      </button>
      
      <button 
        class="login-btn" 
        bindtap="handleLogin"
        wx:else
      >
        <text class="btn-icon">👤</text>
        <text class="btn-text">{{phoneNumber ? '点击登录' : '微信授权登录'}}</text>
      </button>
      
      <view class="agreement-section">
        <view class="checkbox-wrapper" bindtap="toggleAgreement">
          <view class="checkbox {{agreed ? 'checked' : ''}}">
            <text class="check-icon" wx:if="{{agreed}}">✓</text>
          </view>
        </view>
        <view class="agreement-text">
          <text>我已阅读并同意</text>
          <text class="link" bindtap="goToWechatAgreement">《微信公众平台服务协议》</text>
          <text>和</text>
          <text class="link" bindtap="goToMiniProgramAgreement">《微信小程序平台服务协议》</text>
        </view>
      </view>
    </view>
  </view>
</view>
